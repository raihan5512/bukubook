name : Run Tests

on: [push]

jobs:
  test:
    name: Run Tests
    runs-on: ubuntu'latest
    steps:
    - uses : actions/chechout@v3
    - name : setup php
      uses : shivammathur/setup-php@v2
      with:
        php-version: '8.1'
        extensions: dom, curl, libxml, mbstring, zip, pcntl, pdo, mysql, pdo_mysql_ bcmath, soap, gd, exif, iconv
        coverage : none

    - name: Run Composer install
      run: composer install -n --prefer-dist

    - name: prepare laravel application
      run: |
        cp .env.example .env
        php artisan key:generate

    - name: run PHPStan
      run: ./vendor/bin/phpstan --error-format-github
